name: sql_pull_data
enabled: true
required: false
description: >-
  Pull data from a SQL database. This plugin takes user requests when obtaining data from database is explicitly mentioned.
  Otherwise, it is not sure if the user wants to pull data from database or not.
  The data from this database can only used for anomaly detection.

parameters:
  - name: query
    type: str
    required: true
    description: >-
      This is the query in natural language that the user wants to get data from database.
      If any specific column or value is mentioned, make sure to include them in the query, 
      exactly in the right format or form.

returns:
  - name: df
    type: pandas.DataFrame
    description: This is the dataframe containing the data from the database.
  - name: description
    type: str
    description: This is a string describing the data pulled from the database.

configurations:
  api_type: openai
#  api_base: https://api.openai.com/v1
  api_base: https://api.openai.com/v1/completions
  api_key: "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"
#  api_version: "gpt-4-1106-preview"
#  api_version: "gpt-4"
  api_version: "gpt-3.5-turbo"
#  api_version: "gpt-3.5-turbo"
#  deployment_name: gpt-4-1106-preview
#  deployment_name: gpt-4
  deployment_name: gpt-3.5-turbo
  sqlite_db_path: sqlite:///E:\\work-space\\demo-workspace\\github\\fork\\TaskWeaver\\project\\sample_data\\anomaly_detection.db
#  sqlite_db_path: sqlite:///../sample_data/anomaly_detection.db
